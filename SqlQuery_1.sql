DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'HireMe.Models.HireMeContext'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201610151300534_InitialCreate'
BEGIN
    CREATE TABLE [dbo].[Jobs] (
        [JobID] [int] NOT NULL IDENTITY,
        [JobTitle] [nvarchar](max),
        [JobDescription] [nvarchar](max),
        [RequiredSkills] [nvarchar](max),
        [JobLocation] [nvarchar](max),
        [SalaryRange] [nvarchar](max),
        CONSTRAINT [PK_dbo.Jobs] PRIMARY KEY ([JobID])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201610151300534_InitialCreate', N'HireMe.Models.HireMeContext',  0x1F8B0800000000000400CD58CD72DB3610BE77A6EFC0C1A9997104FFF4D07AA8641CC96A9558B6C7747C87C8958C09083000E8919E2D873E525FA1CB7F12942CC94EDA8E2E12B0F8F6DBC5EEC7A5FEFEF697FF7E150BEF09B4E14A0EC9C9E0987820431571B91C92D42EDEFE46DEBFFBF927FF328A57DE43657796D9E1496986E4D1DAE49C52133E42CCCC20E6A156462DEC2054316591A2A7C7C7BFD393130A084110CBF3FCBB545A1E43FE037F8E940C21B1291333158130E53AEE0439AA77CD6230090B6148FEE41A6630280C897721384312018805F19894CA328B14CF3F1B08AC56721924B8C0C4FD3A01B45B3061A0A47EDE98EF1BC5F16916056D0E5650616AAC8A0F043C392BD342DDE32F4A2EA9D38689BBC404DB7516759EBC21F9A8E6C473FD9C8F84CE6C8664F630FAF57252A67580C6475E91E9A3FAD6B138B2CF91374A854D350C25A4563371E4DDA673C1C34FB0BE575F400E652A449B0CD2C1BDCE022EDD6A9580B6EB3B583414A763E2D1EE51EA9EAD4F768F15714CA53D3B25DE3552607301F58DB7620EACD2F00748D0CC4274CBAC058D17368D20CF598F40DFDD3DB7022A8F5866D82CC49BB1D515C8A57DC464B215F1267C0551B552B2F82C39F6161EB23A853D1C8DC1849A274549FC607777F035C51B8F822F5C649DF5E3A3BB5221FB57420B98607A7DC7E4F27BDF9A4F9B46EBB71FEA9A651C0BADE4517454B60A2BBBA11B51B4CA8634A5B36E58056A00B6C9215E54C3A0D0C141DEEA9B58D67C1A81A585C2564A4CB748B13F634982096B4973B9E205852E8FDE0687AB565C60D0D06C10AF9A6DED091B972DC1D945D7C874C2B5B16366D99C6557368AE29E5937FB5B325BF96A25D815AE26DF9571F6BD7DC32D19754F37899B602C314A4E1E16D4040AA5EE9DCA9F8559196F16BF9112692C9F91D11D18A5A23930E5EA41481DC972F03A7BFBA3BACAD44675F70EE2DA089043B4D9D81FAF23326DBCCE461FCFA74E41B8F5467B05E73C20DDE27DAEF35D93DA7BAD004EA7FB65D7ED9ECC7A6D5898100F13F5C4A3AC0583B5B1100F328341F0558C04C7781B8319937C01C6166304C109E9D499F0FE3FD316352612BB47AEFF680CE2595A770E3ABD29E9B0C9473E311D3E32FD4BCC566FDA682F9F6E5E05B97982792D4B774A7915DE8649E400BCC3A68DFE6371E734B16D98283A7948A2B942DA05BD62F878E198D117159FB65F0A7DAC0DBE6C20B257440961760F0D686533950B55E519C36933AA4C9C6B9881651166E5425BBE60A1C5ED108CC927C207265234B98CE7104DE54D6A93D45E1803F15C74DE0D7CFABCFF7C96EA72F66FF26237DF2304A4C93104B8911F522EA29AF7A4DFC9DB20B20229E50159E1448C70CB758D74ADE49E4065FAC69080CCC4E51EE2442098B991017B829770C351F80A962C5C57CF86ED20BB2FA29B767FCCD952B3D89418CDF9EC8F0E9AFDD3F1EE1F434E61F81B110000 , N'6.1.3-40302')
END

IF @CurrentMigration < '201610151313415_AddRequiredKnowledge'
BEGIN
    ALTER TABLE [dbo].[Jobs] ADD [RequiredKnowledge] [nvarchar](max)
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201610151313415_AddRequiredKnowledge', N'HireMe.Models.HireMeContext',  0x1F8B0800000000000400CD58CB72E33610BCA72AFFC0C229A9F20A7EE490B8A8DD72242B71D6B25DA6D777881CC9A805012E007AA56FCB219FB4BFB0C337094A96E44792F2C502068D9E01A6D1D2B7BFFFF13F2C63E13D82365CC921391A1C120F64A8222E174392DAF9BB5FC987F73FFEE09F47F1D2BBAFE24EB2385C29CD903C589B9C526AC207889919C43CD4CAA8B91D842AA62C52F4F8F0F0377A744401210862799E7F9B4ACB63C83FE0C791922124366562AA2210A61CC7992047F5AE580C2661210CC99F5CC314064520F1CE046748220031271E9352596691E2E9270381D54A2E82040798B85B25807173260C94D44F9BF05DB3383CCEB2A0CDC20A2A4C8D55F19E8047276559A8BBFC59C52575D9B070E75860BBCAB2CE8B37247FA919F1DC7D4E474267314332BD1FFD723E29CB3AC0E003AFA8F4417DEA7839B2BF036F940A9B6A184A48AD66E2C0BB496782871F6175A73E831CCA54883619A483739D011CBAD12A016D57B7306F285E8C8947BB4BA9BBB65ED95D56E47121EDC931F1AE90029B09A84FBC95736095863F40826616A21B662D683CB08B08F29AF508F4B7BBE35640B5235E336C16E24DD9F212E4C23E6031D9927813BE84A81A29597C921C7B0B17599DC20E1B8DC1849A27C59578E3ED6EE14B8A271E059FB9C83AEBEDB3BB5421FB57520B98607A75CBE4E2ED4FAD2AE347A9BE0A885E7D479F36ADDD6F785452CB385EED924DD1C3D9282CED9AFE47992C25C0949B75932B5003B0CDA9E1D5681814CA3BC8C5651DCB9A4F23E9B4D0F44AFBE906F1F7A72C49B060ADC7A01CF182E22518BD0BF6D7C9B8C0A0A159239735DB7A27940AB6006716B746A613AE8D1D33CB662C3BB25114F7C2BAD5DF50D96AAF56815DA96CEA5D0567FFB74FB825DCEEEAA67013CC254691CBD3829A40F136F456E5AF6FD638EBE576A4441ACB27847B0B46A9A10E4C39BA175247241DBCCEDCEEA8AE16B651DDB9BDB83692E7106D2676C7EBC85A1BAF33B17FD62DE95A97786BBA8FED53E7B2B97799F62EB3F3DCBB8DF194AAB821F5EEB5BA382AE2971DBDDD67F65ABC08211E16ED9147597B072B63211E640183E08B18098EF936015326F91C8C2D4C1141BF77ECF8D5FF8F77A4C64462BB81FC8F4C1DCFCABAD5B6F53CDF7E3E4E3E321D3E30FD53CC963FB7D19EEFD55E04B9DE8FBD94A5EBB95E84B7C657BD4ACA3DEFB407EA7EFEA8FF906FF53F9BEC4FA10F4312CD14D22EE81576E999C6A82F553E6D7F71F6F1C6F14503917D8D961066A7DB8056311772AEAA6A633A6D465588731853B02CC2AA9C69CBE72CB4381D8231B987BD6722C590F37806D185BC4E6D92DA3363209E89CEF7279F3EBD7FEEFEBA9CFDEBBC85CC6BA4803439A600D7F2F7948BA8E63DE9EBC32688EC8294A283ACD0C323DC6255235D29B9235059BE31242033C9BA8338110866AE65C01EE139DCD0BC5FC28285ABEAC5D90CB2FD20BA65F7C79C2D348B4D89D1ACCF7E0CA2D9AF41EFBF037781DDB93F120000 , N'6.1.3-40302')
END

